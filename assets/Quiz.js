let quizData = [{
    question: "What does HTML stand for?",
    options: ["HyperText Markup Language", "High-level Text Management Language", "HyperTransfer Markup Language", "Hyperlink and Text Markup Language"],
    correctAnswer: "HyperText Markup Language"
},
{
    question: "What is the primary purpose of CSS in web development?",
    options: ["Client-side Scripting", "Computer Style Syntax", "Cascading Style Sheets", "Centralized Style System"],
    correctAnswer: "Cascading Style Sheets"
},
{
    question: "Which programming language is known for its use in machine learning and data science?",
    options: ["Java", "Python", "C++", "Ruby"],
    correctAnswer: "Python"
},
{
    question: "What is the role of a compiler in the software development process?",
    options: ["Converts source code to machine code", "Executes the program", "Debugs the code", "Manages database connections"],
    correctAnswer: "Converts source code to machine code"
},
{
    question: "What does the acronym SQL stand for?",
    options: ["Structured Question Language", "Simple Query Language", "System Query Language", "Structured Query Language"],
    correctAnswer: "Structured Query Language"
},
{
    question: "Which data structure follows the Last In, First Out (LIFO) principle?",
    options: ["Queue", "Stack", "Linked List", "Tree"],
    correctAnswer: "Stack"
},
{
    question: "Which of the following is an example of a front-end programming language?",
    options: ["Java", "Python", "HTML", "PHP"],
    correctAnswer: "HTML"
},
{
    question: "Which networking protocol is used for secure communication over the web?",
    options: ["HTTP", "FTP", "TCP", "HTTPS"],
    correctAnswer: "HTTPS"
},
{
    question: "In object-oriented programming, what is encapsulation?",
    options: ["Hiding the implementation details", "Inheritance of properties", "Creating multiple instances", "Dynamic typing"],
    correctAnswer: "Hiding the implementation details"
},
{
    question: "What does URL stand for?",
    options: ["Universal Remote Link", "Unified Resource Language", "Uniform Resource Locator", "Unrestricted Reference Locator"],
    correctAnswer: "Uniform Resource Locator"
},
{
    question: "Which file format is commonly used for images on the web?",
    options: ["TXT", "JPG", "PDF", "DOCX"],
    correctAnswer: "JPG"
},
{
    question: "Which programming paradigm does JavaScript primarily follow?",
    options: ["Procedural", "Declarative", "Functional", "Object Oriented"],
    correctAnswer: "Object Oriented"
},
{
    question: "What does CPU stand for?",
    options: ["Central Processing Unit", "Computer Processing Unit", "Central Program Unit", "Central Peripheral Unit"],
    correctAnswer: "Central Processing Unit"
},
{
    question: "What is the purpose of the \"git commit\" command in Git?",
    options: ["Fetch changes from a remote repository", "Push changes to a remote repository", "Create a new branch", "Stage changes for commit"],
    correctAnswer: "Stage changes for commit"
},
{
    question: "What is the primary purpose of a router in a computer network?",
    options: ["Connect devices within a local network", "Connect multiple networks", "Store and manage data", "Provide power to devices"],
    correctAnswer: "Connect multiple networks"
},
{
    question: "What does API stand for in the context of software development?",
    options: ["Automated Processing Integration", "Application Programming Interface", "Advanced Programming Interface", "Adaptive Protocol Interface"],
    correctAnswer: "Application Programming Interface"
},
{
    question: "In networking, what does DHCP stand for?",
    options: ["Domain Hosting Control Protocol", "Digital Handshake Communication Protocol", "Dynamic Host Configuration Protocol", "Data Handling and Control Protocol"],
    correctAnswer: "Dynamic Host Configuration Protocol"
},
{
    question: "What is the purpose of the HTML '<head>' element?",
    options: ["Display content", "Define page structure", "Provide metadata", "Handle user input"],
    correctAnswer: "Provide metadata"
},
{
    question: "Which database model organizes data into tables with predefined relationships?",
    options: ["NoSQL", "Relational", "Object-Oriented", "Hierarchical"],
    correctAnswer: "Relational"
},
{
    question: "What is the significance of the HTTP status code \"404\"?",
    options: ["Page Not Found", "Server Error", "Redirect", "Network Error"],
    correctAnswer: "Page Not Found"
},
{
    question: "What does the acronym AJAX stand for in web development?",
    options: ["Asynchronous JavaScript and XML", "Advanced JavaScript and XHTML", "Automated JSON and XML", "Asynchronous JSON and XHTML"],
    correctAnswer: "Asynchronous JavaScript and XML"
},
{
    question: "Which protocol is used for sending email over the internet?",
    options: ["FTP", "TCP", "VoIP", "SMTP"],
    correctAnswer: "SMTP"
},
{
    question: "What does the term \"ORM\" stand for in database development?",
    options: ["Object-Role Modeling", "Object-Relational Model", "Object-Relationship Mapping", "Object-Reference Mechanism"],
    correctAnswer: "Object Relationship Mapping"
},
{
    question: "What does the term \"API Gateway\" refer to in microservices architecture?",
    options: ["Network firewall", "Entry point for API", "Database server", "Load balancer"],
    correctAnswer: "Entry point for API"
},
{
    question: "What is the purpose of the CSS property \"display: flex\"?",
    options: ["Create a flex container", "Set font size", "Change background color", "Add a border"],
    correctAnswer: "Create a flex container"
},
{
    question: "Which CSS property is used for controlling the spacing between elements?",
    options: ["border", "margin", "padding", "display"],
    correctAnswer: "margin"
},
{
    question: "Which HTTP status code indicates a successful request?",
    options: ["200", "404", "500", "302"],
    correctAnswer: "200"
},
{
    question: "Which type of loop is used in JavaScript for iterating over objects?",
    options: ["for loop", "while loop", "do while loop", "for in loop"],
    correctAnswer: "for in loop"
},
{
    question: "Which type of error occurs during the compilation of a program?",
    options: ["Syantax error", "Runtime error", "Logical error", "Semantic error"],
    correctAnswer: "syntax error"
},
{
    question: "Which CSS property is used for changing the text color of an element?",
    options: ["font-color", "background-color", "text-color", "color"],
    correctAnswer: "color"
},
{
    question: "What is the function of an IP address in networking?",
    options: [
        "Identifying the device in a network",
        "Encrypting data transmission",
        "Managing network traffic",
        "Controlling access to websites"
    ],
    correctAnswer: "Identifying the device in a network"
},
{
    question: "What is the purpose of the JavaScript programming language in web development?",
    options: [
        "Client side Scripting",
        "Java Syntax Modulation",
        "Jumbled Script Management",
        "Just-in-time Compilation"
    ],
    correctAnswer: "Client side Scripting"
},
{
    question: "What is the purpose of the 'git' version control system?",
    options: [
        "Managing database connections",
        "Tracking changes in source code",
        "Executing scripts on the server",
        "Creating graphical user interfaces"
    ],
    correctAnswer: "Tracking changes in source code"
},
{
    question: "What is the time complexity of a binary search algorithm? (in Big-O)",
    options: [
        "1",
        "n",
        "log n",
        "n squared"
    ],
    correctAnswer: "log n"
},
{
    question: "What is the primary role of an operating system?",
    options: [
        "Running applications",
        "Managing hardware resources",
        "Designing user interfaces",
        "Executing database queries"
    ],
    correctAnswer: "Managing hardware resources"
},
{
    question: "Which sorting algorithm has an average-case time complexity of O(n log n)?",
    options: [
        "Bubble Sort",
        "Insertion Sort",
        "Merge Sort",
        "Selection Sort"
    ],
    correctAnswer: "Merge Sort"
},
{
    question: "What is the purpose of a firewall in network security?",
    options: [
        "Encrypting data transmission",
        "Monitoring system performance",
        "Preventing unauthorized access",
        "Managing network protocols"
    ],
    correctAnswer: "Preventing unauthorized access"
},
{
    question: "In object-oriented programming, what is polymorphism?",
    options: [
        "Changing the behavior of an object at runtime",
        "Combining different data types",
        "Implementing multiple interfaces",
        "Creating objects from a class"
    ],
    correctAnswer: "Changing the behavior of an object at runtime"
},
{
    question: "What is the difference between HTTP and HTTPS?",
    options: [
        "HTTP is a protocol for secure data transmission",
        "HTTPS uses a different port for communication",
        "HTTP is not secure while HTTPS encrypts data",
        "There is no difference between HTTP and HTTPS"
    ],
    correctAnswer: "HTTP is not secure while HTTPS encrypts data"
},
{
    question: "What is the main purpose of a cache in computing?",
    options: [
        "Storing data permanently",
        "Increasing processing speed by storing frequently accessed data",
        "Executing database queries",
        "Encrypting sensitive information"
    ],
    correctAnswer: "Increasing processing speed by storing frequently accessed data"
},
{
    question: "What is the purpose of a DNS (Domain Name System) in networking?",
    options: [
        "Encrypting data transmission",
        "Resolving domain names to IP addresses",
        "Routing data between networks",
        "Controlling access to websites"
    ],
    correctAnswer: "Resolving domain names to IP addresses"
},
{
    question: "What is the role of a function in programming?",
    options: [
        "Storing data",
        "Performing a specific task or calculation",
        "Creating user interfaces",
        "Managing network connections"
    ],
    correctAnswer: "Performing a specific task or calculation"
},
{
    question: "What is the difference between a stack and a queue in data structures?",
    options: [
        "Stack follows LIFO while Queue follows FIFO",
        "Stack follows FIFO while Queue follows LIFO",
        "Both follow LIFO",
        "Both follow FIFO"
    ],
    correctAnswer: "Stack follows LIFO while Queue follows FIFO"
},
{
    question: "What is the purpose of the 'grep' command in Unix/Linux?",
    options: [
        "Copying files",
        "Searching for patterns in text files",
        "Deleting directories",
        "Renaming files"
    ],
    correctAnswer: "Searching for patterns in text files"
},
{
    question: "In database terminology, what is a primary key?",
    options: [
        "A key used for encryption",
        "A unique identifier for a record in a table",
        "A foreign key in another table",
        "A key used for sorting records"
    ],
    correctAnswer: "A unique identifier for a record in a table"
},
{
    question: "What is the purpose of the 'NaN' value in JavaScript?",
    options: [
        "Not a Name",
        "Null and Negligible",
        "Not a Number",
        "Non Allocated Null"
    ],
    correctAnswer: "Not a Number"
},
{
    question: "What is the purpose of the 'finally' block in a try-catch-finally statement in programming?",
    options: [
        "To handle exceptions",
        "To execute code regardless of whether an exception is thrown or not",
        "To terminate the program",
        "To skip the catch block"
    ],
    correctAnswer: "To execute code regardless of whether an exception is thrown or not"
},
{
    question: "What is the difference between a heap and a stack in memory management?",
    options: [
        "Both follow LIFO",
        "Heap is used for static memory allocation and stack is used for dynamic memory allocation",
        "Stack is used for static memory allocation and heap is used for dynamic memory allocation",
        "Heap is used for dynamic memory allocation and stack is used for static memory allocation"
    ],
    correctAnswer: "Heap is used for dynamic memory allocation and stack is used for static memory allocation"
},
{
    question: "What is a DDoS attack?",
    options: [
        "Database Deployment Security",
        "Distributed Denial of Service",
        "Data Description of Services",
        "Direct Detection of System"
    ],
    correctAnswer: "Distributed Denial of Service"
},
{
    question: "What is the purpose of a mutex in multithreading?",
    options: [
        "Ensures mutual exclusion and avoids data race",
        "Controls the execution of the main thread",
        "Manages file access permissions",
        "Monitors memory leaks in a program"
    ],
    correctAnswer: "Ensures mutual exclusion and avoids data race"
},
{
    question: "What is the role of a constructor in object-oriented programming?",
    options: [
        "Destructs an object",
        "Initialise an object when it is created",
        "Manages memory deallocation",
        "Modifies class properties"
    ],
    correctAnswer: "Initialise an object when it is created"
},
{
    question: "What is the purpose of the 'mv' command in Unix/Linux?",
    options: [
        "Making variables",
        "Moving files or directories",
        "Memory verification",
        "Mastering version control"
    ],
    correctAnswer: "Moving files or directories"
},
{
    question: "What is a bitwise operation?",
    options: [
        "A low-level programming language",
        "An operation on individual bits of binary numbers",
        "A high-level programming language",
        "An operation on floating-point numbers"
    ],
    correctAnswer: "An operation on individual bits of binary numbers"
},
{
    question: "What is the purpose of the 'docker' technology in software development?",
    options: [
        "Database management",
        "Virtualisation and containerization",
        "Version control",
        "Network security"
    ],
    correctAnswer: "Virtualisation and containerization"
},
{
    question: "What does the term 'agile' refer to in software development?",
    options: [
        "A programming language",
        "A project management methodology emphasizing flexibility and collaboration",
        "A type of testing",
        "An encryption algorithm"
    ],
    correctAnswer: "A project management methodology emphasizing flexibility and collaboration"
},
{
    question: "What is the purpose of the 'try-catch' block in exception handling?",
    options: [
        "To intentionally cause errors",
        "To execute a block of code only if there are no errors",
        "To catch and handle errors during program execution",
        "To terminate the program"
    ],
    correctAnswer: "To catch and handle errors during program execution"
},
{
    question: "What is the purpose of the 'REST' architectural style in web development?",
    options: [
        "Representational State Transfer",
        "Remote Execution and Stateful Transactions",
        "Responsive Element Structure Technology",
        "Reliable and Efficient Security Transmission"
    ],
    correctAnswer: "Representational State Transfer"
},
{
    question: "What is the role of a 'foreign key' in a relational database?",
    options: [
        "Primary identifier of a record",
        "Used for encryption",
        "Links to a primary key in another table",
        "Controls access permissions"
    ],
    correctAnswer: "Links to a primary key in another table"
},
{
    question: "What is the purpose of a 'kernel' in an operating system?",
    options: [
        "Manages hardware resources and provides essential services",
        "Handles user interface interactions",
        "Executes database queries",
        "Encrypts sensitive information"
    ],
    correctAnswer: "Manages hardware resources and provides essential services"
},
{
    question: "What is the primary function of a 'hash function' in computer science?",
    options: [
        "Sorting data",
        "Encrypting files",
        "Generating random numbers",
        "Mapping data to a fixed-size string of characters"
    ],
    correctAnswer: "Mapping data to a fixed-size string of characters"
},
{
    question: "What is the purpose of the 'git merge' command in version control?",
    options: [
        "Create a new branch",
        "Commit changes to the repository",
        "Combine changes from different branches",
        "Revert to a previous commit"
    ],
    correctAnswer: "Combine changes from different branches"
},
{
    question: "In computer networking, what is the role of a router?",
    options: [
        "Connects devices within the same local network",
        "Transmits data between different networks",
        "Manages user authentication",
        "Encrypts data during transmission"
    ],
    correctAnswer: "Transmits data between different networks"
},
{
    question: "What is the purpose of the 'npm' command in Node.js development?",
    options: [
        "Node Package Manager",
        "Network Process Manager",
        "Node Program Module",
        "Node Page Manager"
    ],
    correctAnswer: "Node Package Manager"
},
{
    question: "What is the primary function of a 'stack pointer' in computer architecture?",
    options: [
        "Manages memory allocation",
        "Points to the next instruction to be executed",
        "Organizes data in a stack",
        "Monitors network traffic"
    ],
    correctAnswer: "Points to the next instruction to be executed"
},
{
    question: "What does the term 'Big O notation' represent in algorithm analysis?",
    options: [
        "Order of Magnitude",
        "Optimal Algorithm",
        "On-demand Operation",
        "Time and Space Complexity"
    ],
    correctAnswer: "Time and Space Complexity"
},
{
    question: "What is the purpose of the 'this' keyword in object-oriented programming?",
    options: [
        "Refers to the current class",
        "Specifies the return type of a function",
        "Refers to the current instance of the class",
        "Identifies a variable"
    ],
    correctAnswer: "Refers to the current instance of the class"
},
{
    question: "In computer graphics, what does RGB stand for?",
    options: [
        "Red Green Blue",
        "Random Graphics Buffer",
        "Resolution Gain Boost",
        "Recursive Grid Builder"
    ],
    correctAnswer: "Red Green Blue"
},
{
    question: "What is the purpose of the 'sudo' command in Unix/Linux?",
    options: [
        "Super user Do",
        "System Update and Overwrite",
        "Secure User Directory Operations",
        "Sequential Undo"
    ],
    correctAnswer: "Super user Do"
},
{
    question: "What is the difference between 'heap memory' and 'stack memory' in a programming language?",
    options: [
        "Heap memory is used for static memory allocation while stack memory is used for dynamic memory allocation",
        "Heap memory is managed by the operating system while stack memory is managed by the programmer",
        "Heap memory is used for dynamic memory allocation while stack memory is used for static memory allocation",
        "Heap memory is accessed through pointers while stack memory is accessed through arrays"
    ],
    correctAnswer: "Heap memory is used for dynamic memory allocation while stack memory is used for static memory allocation"
},
{
    question: "What is the purpose of a 'VLAN' in networking?",
    options: [
        "Virtual Local Area Network used for network segmentation",
        "Variable Length Area Network used for dynamic IP addressing",
        "Virtual Linear Access Node used for routing data",
        "Volatile Link Allocation Node used for temporary connections"
    ],
    correctAnswer: "Virtual Local Area Network used for network segmentation"
},
];

function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
}

const quizData1 = quizData;

shuffleArray(quizData);
let currentQuestion = quizData.pop();
let numQuestion = 0;
let score = 0;
let ques = Math.floor(Math.random() * (10 - 5 + 1)) + 5;

function loadQuestion() {
    const questionElement = document.getElementById("question");
    const optionsElement = document.getElementById("options");

    var lineBreak = document.createElement("br");
    let a = ques-numQuestion;
    questionElement.textContent = `${a}. ` + currentQuestion.question;
    questionElement.appendChild(lineBreak);
    questionElement.appendChild(document.createTextNode("(say \"option {number}\" or the whole option)"));

    optionsElement.innerHTML = "";
    currentQuestion.options.forEach((option) => {
        const button = document.createElement("button");
        button.textContent = option;
        button.onclick = () => selectAnswer(option);
        optionsElement.appendChild(button);
    });
}

function selectAnswer(selectedOption) {
    const correctAnswer = currentQuestion.correctAnswer.toLowerCase();

    if (selectedOption.toLowerCase() === correctAnswer) {
        score++;
    }

    const resultElement = document.getElementById("result");
    resultElement.textContent = "Correct Answer: " + currentQuestion.correctAnswer;
}

function nextQuestion() {
    numQuestion++;
    shuffleArray(quizData);
    currentQuestion = quizData.pop();

    document.getElementById("result").textContent="";
    
    if (numQuestion < ques) {
        loadQuestion();
    } else {
        showResult();
    }
}

function showResult() {
    const questionElement = document.getElementById("question");
    const resultElement = document.getElementById("result");
    if (score == 0) {
        questionElement.textContent = "You are depriving a village somewhere of an idiot!";
    } else if (score < Math.ceil(ques / 2)) {
        questionElement.textContent = "Could Have Done Better Better!";
    } else {
        questionElement.textContent = "Great Work!";
    }
    resultElement.textContent = `You scored ${score} out of ${ques}!`;
    document.getElementById("options").innerHTML = "";
    document.querySelector("button").disabled = true;
}

function checkAnswer() {
    const selectedOption = document.querySelector('button:focus');

    if (selectedOption) {
        selectAnswer(selectedOption.textContent);
    } else {
        alert("Please select an option before submitting.");
    }
}

// Load the first question
loadQuestion();

var button = document.getElementById("Speak");

function runSpeechRecognition() {
    const audioElement = new Audio("assets/ButtonPressed.mp3");

    // Play the audio
    audioElement.play();


    // get output div reference
    var output = document.getElementById("output");
    // get action element reference
    var action = document.getElementById("action");
    // new speech recognition object
    var SpeechRecognition = SpeechRecognition || webkitSpeechRecognition;
    var recognition = new SpeechRecognition();

    // This runs when the speech recognition service starts
    recognition.onstart = function() {
        button.innerHTML = "Listening Speak...";
    };

    recognition.onspeechend = function() {
        button.innerHTML = "<small>stopped listening, hope you are done...</small>";
        recognition.stop();
    }

    // This runs when the speech recognition service returns result
    recognition.onresult = function(event) {
        var transcript = event.results[0][0].transcript.toLowerCase();
        if (transcript == "colour") {
            selectAnswer("color");
        } else if (transcript == "option 1") {
            selectAnswer(currentQuestion.options[0]);
        } else if (transcript == "option 2") {
            selectAnswer(currentQuestion.options[1]);
        } else if (transcript == "option 3") {
            selectAnswer(currentQuestion.options[2]);
        } else if (transcript == "option 4") {
            selectAnswer(currentQuestion.options[3]);
        } else {
            selectAnswer(transcript);
        }
        button.innerHTML = "Tap to Speak Answer";
    };

    // start recognition
    button.innerHTML = "Tap to Speak Answer";
    recognition.start();
}

function refreshPage() {
    // Reload the current page
    location.reload();
}
